# Дизайн Cистемы социальной сети для путешественников 
Пример домашней работы по курсу System Design.
Социальная сеть для путешественников эта социальная сеть с прицелом на аудиторию путешественников.
В ней пользователи публикуют фотографии из своих путешествий с привязкой к местам путешествия, обмениваются комментариями.

### Функциональные требования:
- публикация постов из путешествий с фотографиями, небольшим описанием и привязкой к конкретному месту путешествия;
- оценка и комментарии постов других путешественников;
- подписка на других путешественников, чтобы следить за их активностью;
- поиск популярных мест для путешествий и просмотр постов с этих мест;
- просмотр ленты других путешественников;

### Нефункциональные требования:
- 10 000 000 DAU
- Доступность (availability) 99.95%
- Данные храним всегда
- Один пользователь в среднем будет делать 5 запросов в день
- В рамках одного поста можно прикрепить не более 5 фотографий
- Пользователь в среднем будет делать 1 пост в неделю
- Пользователь в среднем будет оставлять 2 комментария в день
- Максимальный размер фото 1мб, если больше то сжимается
- В среднем будет 1 фото в одном посте
- В ленте 1 фото с каждого аккаунта, на которых подписан путешественник
- Максимум 10 000 000 подписчиков на одного пользователя
- Не более 2000 символов в описании поста
- Сезонности нет
- Тайминги:
  - Отображение ленты не более 1 сек
  - Поиск мест не более 1 сек

### Базовые расчеты нагрузки:
RPS (публикация поста)
```
DAU = 10 000 000
1 пост в неделю
RPS = 10 000 000 / 86 400 / 7 ~= 17
```

RPS (комментарии)
```
DAU = 10 000 000
2 комментария в день
RPS = 10 000 000 / 86 400 * 2 ~= 235
```

RPS (просмотр ленты)
```
DAU = 10 000 000
5 запросов в день
RPS = 10 000 000 / 86 400 * 5 ~= 575
```

Траффик (публикация поста)
```
Размер фото 1 МБ
Размер комментария ~ 500 байт
Мета информация ~ 40 байт
Traffic = 17 * (1024kb + 540b) ~= 26 MB/s
```

Траффик (комментарии)
```
Размер комментария ~ 150 байт
Traffic = 235 * 150 ~= 35 KB/s
```

Траффик (Просмотр ленты)
```
Размер ленты фото (превью самих фото) ~ 500 KB
Traffic = 575 * 0.5 MB ~= 288 MB/s
```